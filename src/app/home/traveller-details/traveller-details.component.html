<section>
    <div class="master">
        <div class="head">
            <div>
                <img #imgre [src]="item.image" onerror="this.src = 'assets/images/ic_flight.png'">

                <h4 class="number" style="text-align: center;">
                    {{ item.number }}
                </h4>
            </div>

            <div>
                <span>
                    {{ startDate.toString().split(' ')[0] }},
                    {{ startDate.toString().split(' ')[2] }}
                    {{ startDate.toString().split(' ')[1] }}
                </span>
                <span>
                    <h4>
                        {{ item.source.code }}
                    </h4>
                    <h3>
                        {{
                            item.takeOff.split(':')[0].length == 1 ? '0' + item.takeOff.split(':')[0] : item.takeOff.split(':')[0]
                         }}:{{
                             item.takeOff.split(':')[1].length == 1 ? '0' + item.takeOff.split(':')[1] : item.takeOff.split(':')[1]
                        }}
                    </h3>
                </span>
                <span>
                    <h5>
                        {{ item.source.name }}
                    </h5>
                </span>
            </div>
            <div>
                <h5>{{item.totalTime}}</h5>
                <!-- !Show time elapsed -->
                <h5>
                    {{
                        item.stops == 0 ? 'Non-Stop' : item.stops + " stop"
                    }}
                </h5>
            </div>
            <div>
                <span>
                    {{ endDate.toString().split(' ')[0] }},
                    {{ endDate.toString().split(' ')[2] }}
                    {{ endDate.toString().split(' ')[1] }}
                </span>
                <span>
                    <h4>
                        {{ item.dest.code }}
                    </h4>
                    <h3>
                        {{
                            item.landing.split(':')[0].length == 1 ? item.landing.split(':')[0] + '0' : item.landing.split(':')[0]
                        }}:{{
                            item.landing.split(':')[1].length == 1 ? item.landing.split(':')[1] + '0' : item.landing.split(':')[1]
                        }}
                    </h3>
                </span>
                <span>
                    <h5>
                        {{ item.dest.name }}
                    </h5>
                </span>
            </div>
        </div>
        <div class="divider"></div>
        <div>
            <span>
                <i class="fas fa-suitcase"></i>
                <h4>Check in : {{item.checkin.replace('kg', '')}} KG</h4>
                <ul>
                    <li>Cabin : {{item.baggage.replace('kg', '')}} KG</li>
                </ul>
            </span>
            <span>
                <i class="fas fa-utensils"></i>
                <h4>Meal : {{ item.meal ? 'Yes' : 'No' }}</h4>
            </span>
        </div>
    </div>

    <div class="info">
        <h3>Traveller Information</h3>
        <div *ngFor="let item of list; let i=index">
            <!-- <div class="selector"> -->
                <h4>{{list.indexOf(item) + 1}} Traveller</h4>
          <select [(ngModel)]=item.gender (click)="testFun(i)" class="ashishKutta">
<!--            <option default>Please select below</option>-->
            <option value="Mr." selected>Mr.</option>
            <option value="Mrs.">Mrs.</option>
            <option value="Ms." >Ms.</option>
          </select>
<!--                <input #meal type="button" class="but" (click)="open()" class="small" [matAutocomplete]="meal" value="{{item.gender}}">-->
<!--                <mat-autocomplete #meal="matAutocomplete">-->
<!--                    <mat-option (click)="item.gender = 'Mr'" value="Mr">Mr</mat-option>-->
<!--                    <mat-option (click)="item.gender = 'Ms'" value="Ms">Ms</mat-option>-->
<!--                    <mat-option (click)="item.gender = 'Mrs'" value="Mrs">Mrs</mat-option>-->
<!--                </mat-autocomplete>-->
                <!-- <i class="fas fa-chevron-down"></i> -->
            <!-- </div> -->
            <input name="firstname" placeholder="First Name" (keyup)="item.fName = $event.target.value" [value]="item.name">
            <input name="lastname" placeholder="Last Name" (keyup)="item.lName = $event.target.value" [value]="item.age">
        </div>

        <h3>Traveller Contact Information</h3>
        <h6>Will Contact you on the same information</h6>
        <h5>E-mail</h5>
        <input name="email" (keyup)="contact.gender = $event.target.value" placeholder="E-mail">
        <h5>Contact Number</h5>
        <span style="display: flex; justify-content: space-between">
            <input style="flex:10%;margin-right: 20px;" type="number" (keyup)="contact.name = $event.target.value" name="country_code" disabled="true" value="91">
            <input style="flex:60%;" name="number" type="number" (keyup)="contact.age = $event.target.value" placeholder="Number">
        </span>
    </div>

    <app-info-map></app-info-map>

    <div class="traveller">
        <div>
            <h3>Total fare</h3>
            <h4>â‚¹{{price}}</h4>
        </div>
        <i class="fas fa-info-circle"></i>
        <!-- <button>Submit Request</button> -->
    </div>

    <button (click)="submit()">Submit Request</button>
</section>
